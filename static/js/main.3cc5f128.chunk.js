(this["webpackJsonptrackmania-records"]=this["webpackJsonptrackmania-records"]||[]).push([[0],{180:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(0),c=a.n(n),i=a(15),l=a.n(i),o=a(146),s=a(9),d=a(61),j=a(60),b=a(263),u=a(131),h=a(262),m=a(111),O=a(112),f=a(145),x=a(238),p=a(237),g=a(31),y=a(269),v=a(183),k=a(240),w=a(233),S=a(181),D=a(236),B=a(273),C=a(239),T=a(81),N=a(134),R=a.n(N),z=function(){var e=c.a.useRef(!1);return c.a.useEffect((function(){return e.current=!0,function(){return e.current=!1}}),[]),e},M=function(e,t){var a=c.a.useState((function(){var a=localStorage.getItem(e);if(a)try{return JSON.parse(a)}catch(r){}return localStorage.setItem(e,JSON.stringify(t)),t})),r=Object(s.a)(a,2),n=r[0],i=r[1];return[n,c.a.useCallback((function(t){i(t),localStorage.setItem(e,JSON.stringify(t))}),[i])]},P=Object(u.a)((function(e){return{root:{paddingBottom:e.spacing(8)},list:{width:e.spacing(25)},menuButton:{marginLeft:-12,marginRight:20},drawer:{width:240,flexShrink:0},appBar:{zIndex:e.zIndex.drawer+1},flex:{flex:1},active:{color:e.palette.primary.main}}})),L=[{title:"404 - Page Not Found",link:null,inDrawer:!1},{title:"trackmania-records",link:"/",inDrawer:!1},{title:"Trackmania",link:"/trackmania",inDrawer:!0,default:!0},{title:"Trackmania 2",link:"/tm2",inDrawer:!0,default:!0},{title:"Trackmania Wii",link:"/tmwii",inDrawer:!0,default:!0},{title:"Nations Forever",link:"/tmnforever",inDrawer:!0},{title:"United",link:"/united",inDrawer:!0},{title:"Nations ESWC",link:"/nations",inDrawer:!0},{title:"Replay Inspection",link:"/replay",inDrawer:!1},{title:"About",link:"/about",inDrawer:!1}],Y=Object(j.g)((function(e){var t,a=e.location,n=c.a.useState(!1),i=Object(s.a)(n,2),l=i[0],o=i[1],j=c.a.useMemo((function(){return L.find((function(e){return e.link===a.pathname||null!==e.link&&a.pathname.startsWith(e.link+"/")}))||L[0]}),[a]);t=j.title,c.a.useEffect((function(){document.title=t+" - "+document.location.host}),[t]);var b=function(e){return function(){o(e)}},u=P(),h=Object(r.jsxs)("div",{className:u.list,children:[Object(r.jsx)(w.a,{children:Object(r.jsx)(S.a,{button:!0,component:d.b,to:"/",children:Object(r.jsx)(D.a,{primary:"Trackmania Records"})},0)}),Object(r.jsx)(p.a,{}),Object(r.jsxs)(w.a,{children:[L.filter((function(e){return e.inDrawer})).map((function(e,t){return Object(r.jsx)(S.a,{button:!0,component:d.b,to:e.link,className:e.title===j.title?u.active:void 0,children:Object(r.jsx)(D.a,{primary:e.title})},t)})),Object(r.jsx)(p.a,{}),Object(r.jsxs)(w.a,{children:[Object(r.jsx)(S.a,{button:!0,component:d.b,to:"/replay",children:Object(r.jsx)(D.a,{primary:"Replay Inspection"})},0),Object(r.jsx)(S.a,{button:!0,component:d.b,to:"/about",children:Object(r.jsx)(D.a,{primary:"About"})},1)]})]})]});return Object(r.jsxs)("div",{className:u.root,children:[Object(r.jsx)(x.a,{className:u.appBar,position:"fixed",children:Object(r.jsxs)(C.a,{children:[Object(r.jsx)(y.a,{lgUp:!0,children:Object(r.jsx)(v.a,{className:u.menuButton,onClick:b(!0),color:"inherit",children:Object(r.jsx)(R.a,{})})}),Object(r.jsx)(T.a,{variant:"h6",color:"inherit",children:Object(r.jsx)(k.a,{component:d.b,to:"/",color:"inherit",underline:"none",children:"Trackmania Records"})})]})}),Object(r.jsx)(y.a,{lgUp:!0,implementation:"css",children:Object(r.jsx)(B.a,{open:l,onClose:b(!1),onOpen:b(!0),variant:"temporary",children:Object(r.jsx)("div",{tabIndex:0,role:"button",onClick:b(!1),onKeyDown:b(!1),children:h})})}),Object(r.jsx)(y.a,{mdDown:!0,implementation:"css",children:Object(r.jsx)(g.a,{variant:"permanent",children:Object(r.jsx)("div",{tabIndex:0,role:"button",children:h})})})]})})),q=a(7),U=a(16),E=a.n(U),I=a(244),W=a(251),_=a(250),F=a(182),A=a(252),H=a(245),X=a(248),G=a(243),Z=a(246),J=a(247),K=a(274),$=a(242),V=Object(u.a)((function(e){return{root:{marginBottom:30}}})),Q=function(e){var t=e.children,a=V();return Object(r.jsxs)($.a,{className:a.root,container:!0,children:[Object(r.jsx)($.a,{item:!0,xs:!1,md:1,lg:2}),Object(r.jsx)($.a,{item:!0,xs:12,md:10,lg:9,children:t})]})},ee=a(102),te=a(103),ae={darkMode:new(function(){function e(){Object(ee.a)(this,e),this.enabled="true"===localStorage.getItem("dark_mode")}return Object(te.a)(e,[{key:"toggle",value:function(){return this.enabled=!this.enabled,localStorage.setItem("dark_mode",this.enabled.toString()),this}}]),e}())},re=[function(e,t){switch(t.action){case"toggleDarkMode":return Object(q.a)(Object(q.a)({},e),{},{darkMode:e.darkMode.toggle()});default:throw new Error("Unknown action type.")}},ae],ne=c.a.createContext(ae),ce=Object(u.a)((function(e){return{aboutBox:{padding:e.spacing(3)}}})),ie=[{repo:"NeKzor/trackmania-records",branch:"master"},{repo:"NeKzBot/tmx-records",branch:"api"},{repo:"NeKzor/trackmania-records",branch:"gh-pages"}],le={whiteSpace:"nowrap"},oe=function(e){return Object(r.jsx)(G.a,Object(q.a)({size:"small"},e))},se=function(){return Object(r.jsx)("div",{style:{paddingTop:"50px"}})},de=function(){var e=E.a.utc(),t=E()().utc().endOf("day").add(17,"hours");t.isBefore(e)&&(t=E()().utc().endOf("day").add(1,"day").add(17,"hours"));var a=E.a.duration({from:e,to:t}),r=a.get("hours"),n=a.get("minutes"),c=a.get("seconds"),i=function(e){return 1===e?"":"s"};return"".concat(r," hour").concat(i(r),", ").concat(n," minute").concat(i(n),", ").concat(c," second").concat(i(c))},je=null,be=function(){var e=z(),t=c.a.useContext(ne),a=t.state.darkMode,n=t.dispatch,i=c.a.useState([]),l=Object(s.a)(i,2),o=l[0],d=l[1],j=c.a.useState(de()),b=Object(s.a)(j,2),u=b[0],h=b[1];c.a.useEffect((function(){return je=setInterval((function(){h(de())}),1e3),function(){return clearInterval(je)}}),[]);c.a.useEffect((function(){var t=function(t){console.error(t),e.current&&d(void 0)};Promise.all(ie.map((function(e){var t=e.repo,a=e.branch;return fetch("https://api.github.com/repos/".concat(t,"/commits/").concat(a))}))).then((function(a){Promise.all(a.map((function(e){return e.json()}))).then((function(t){e.current&&d(t.map((function(e){return{sha:e.sha,author:e.author?e.author:e.commit.author,message:e.commit.message,date:e.commit.author.date}})))})).catch(t)})).catch(t)}),[e]);var m=ce();return Object(r.jsx)(Q,{children:Object(r.jsxs)(F.a,{className:m.aboutBox,children:[Object(r.jsx)(T.a,{component:"h2",variant:"h5",children:"Trackmania Campaign Records & Statistics"}),Object(r.jsx)("br",{}),Object(r.jsx)(T.a,{variant:"body1",children:"The largest mirror for campaign world records of many Trackmania games"}),Object(r.jsx)(T.a,{variant:"body1",children:"We list, rank and compare players who set the fastest and best runs."}),Object(r.jsx)(se,{}),Object(r.jsx)(T.a,{variant:"h5",children:"Next Update"}),Object(r.jsx)("br",{}),u,Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),"For Trackmania we update every 15 minutes, for everything else once in 24 hours.",Object(r.jsx)(se,{}),Object(r.jsx)(T.a,{variant:"h5",children:"Changelog"}),Object(r.jsx)("br",{}),void 0===o?Object(r.jsx)(T.a,{variant:"body1",children:"Unable to fetch status from GitHub."}):0===o.length?Object(r.jsx)(I.a,{className:m.progress}):Object(r.jsx)("div",{style:{overflowX:"auto"},children:Object(r.jsxs)(H.a,{size:"small",children:[Object(r.jsx)(Z.a,{children:Object(r.jsxs)(J.a,{children:[Object(r.jsx)(G.a,{padding:"default",children:Object(r.jsx)(T.a,{variant:"body1",children:"Branch"})}),Object(r.jsx)(G.a,{padding:"default",children:Object(r.jsx)(T.a,{variant:"body1",children:"Date"})}),Object(r.jsx)(G.a,{padding:"default",children:Object(r.jsx)(T.a,{variant:"body1",children:"Author"})}),Object(r.jsx)(G.a,{padding:"default",children:Object(r.jsx)(T.a,{variant:"body1",children:"Commit"})})]})}),Object(r.jsx)(X.a,{children:o.map((function(e,t){var a=ie[t],n=a.repo,c=a.branch;return Object(r.jsxs)(J.a,{tabIndex:-1,style:le,children:[Object(r.jsx)(oe,{align:"left",children:Object(r.jsx)(k.a,{color:"inherit",rel:"noopener",href:"https://github.com/".concat(n,"/tree/").concat(c),children:c})}),Object(r.jsx)(oe,{align:"left",style:le,children:Object(r.jsx)(K.a,{title:E()(e.date).toString(),children:Object(r.jsx)("span",{children:E()(e.date).from()})})}),Object(r.jsx)(oe,{align:"left",children:e.author.html_url?Object(r.jsx)(k.a,{color:"inherit",rel:"noopener",href:e.author.html_url,children:e.author.login}):e.author.name||"n/a"}),Object(r.jsx)(oe,{align:"left",style:le,children:Object(r.jsx)(K.a,{title:e.message,children:Object(r.jsx)(k.a,{color:"inherit",rel:"noopener",href:"https://github.com/".concat(n,"/commit/").concat(e.sha),children:e.sha})})})]},t)}))})]})}),Object(r.jsx)(se,{}),Object(r.jsx)(T.a,{variant:"h5",children:"Theme Settings"}),Object(r.jsx)("br",{}),Object(r.jsx)(_.a,{row:!0,children:Object(r.jsx)(W.a,{control:Object(r.jsx)(A.a,{checked:a.enabled,onChange:function(){n({action:"toggleDarkMode"})},color:"primary"}),label:"Dark Mode"})}),Object(r.jsx)(se,{}),Object(r.jsx)(T.a,{variant:"h5",children:"Sources"}),Object(r.jsx)("br",{}),Object(r.jsx)(k.a,{rel:"noopener",href:"https://www.tm-exchange.com",children:"tm-exchange.com"}),Object(r.jsx)("br",{}),Object(r.jsx)(k.a,{rel:"noopener",href:"https://tm.mania-exchange.com",children:"tm.mania-exchange.com"}),Object(r.jsx)("br",{}),Object(r.jsx)(k.a,{rel:"noopener",href:"https://www.speedrun.com/tmwii",children:"speedrun.com/tmwii"}),Object(r.jsx)("br",{}),"live-services.trackmania.nadeo.live"]})})},ue=a(79),he=a.n(ue),me=a(37),Oe=a(106),fe=a(75),xe=a(265),pe=a(256),ge=a(257),ye=a(267),ve=a(275),ke={numeric:!0},we=function(e,t,a){var r=function(e,t){var r=Be(e,a).toString();return Be(t,a).toString().localeCompare(r,void 0,ke)},n="desc"===t?function(e,t){return r(e,t)}:function(e,t){return-r(e,t)};return e.map((function(e,t){return[e,t]})).sort((function(e,t){var a=n(e[0],t[0]);return 0!==a?a:e[1]-t[1]})).map((function(e){return e[0]}))},Se=function(e,t,a,r){if(a===r||void 0===r)return we(e,t,a);var n=function(e,t){var n=Be(e,a).toString(),c=Be(t,a).toString(),i=c.localeCompare(n,void 0,ke);return 0!==i?i:(n=Be(e,r).toString(),(c=Be(t,r).toString()).localeCompare(n,void 0,ke))},c="desc"===t?function(e,t){return n(e,t)}:function(e,t){return-n(e,t)};return e.map((function(e,t){return[e,t]})).sort((function(e,t){var a=c(e[0],t[0]);return 0!==a?a:e[1]-t[1]})).map((function(e){return e[0]}))},De={},Be=function(e,t){return(-1!==t.indexOf(".")?t.split(".").filter((function(e){return e})).reduce((function(e,t){return e&&e[t]}),e):e[t])||De},Ce=function(e){return["nations","sunrise","original"].includes(e)?"http":"https"},Te=function(e){return"tm2"===e?{trackUrl:function(e){return"https://tm.mania-exchange.com/tracks/".concat(e)},imageUrl:function(e){return"https://tm.mania-exchange.com/tracks/screenshot/normal/".concat(e)},replayUrl:function(e){return"https://tm.mania-exchange.com/replays/download/".concat(e)},userUrl:function(e){return"https://tm.mania-exchange.com/user/profile/".concat(e)}}:"tmwii"===e?{trackUrl:function(e){return"https://speedrun.com/tmwii/".concat(e)},imageUrl:function(e){},replayUrl:function(e){},userUrl:function(e){return"https://www.speedrun.com/user/".concat(e)}}:{trackUrl:function(t){return"".concat(Ce(e),"://").concat(e,".tm-exchange.com/main.aspx?action=trackshow&id=").concat(t)},imageUrl:function(t){return"".concat(Ce(e),"://").concat(e,".tm-exchange.com/getclean.aspx?action=trackscreenscreens&id=").concat(t)},replayUrl:function(t){return"".concat(Ce(e),"://").concat(e,".tm-exchange.com/get.aspx?action=recordgbx&id=").concat(t)},userUrl:function(t){return"".concat(Ce(e),"://").concat(e,".tm-exchange.com/main.aspx?action=usershow&id=").concat(t)}}},Ne=[{id:"user.name",sortable:!1,label:"Player",align:"left"},{id:"wrs",id2:"duration",sortable:!0,label:"World Records",align:"left"},{id:"duration",id2:"wrs",sortable:!0,label:"Total Duration",align:"left"}],Re=function(e){var t=e.order,a=e.orderBy,n=e.onRequestSort;return Object(r.jsx)(Z.a,{children:Object(r.jsx)(J.a,{children:Ne.map((function(e){return Object(r.jsxs)(G.a,{align:e.align,padding:"default",sortDirection:a===e.id&&t,children:[!0===e.sortable&&Object(r.jsx)(K.a,{title:"Sort by "+e.label,placement:"bottom-start",enterDelay:300,children:Object(r.jsx)(ve.a,{active:a===e.id,direction:t,onClick:(c=e.id,i=e.id2,function(e){n(e,c,i)}),children:e.label})}),!1===e.sortable&&e.label]},e.id);var c,i}))})})},ze=Object(u.a)((function(e){return{root:{overflowX:"auto"}}})),Me={order:"desc",orderBy:"wrs",thenBy:"duration",page:0,rowsPerPage:50},Pe={whiteSpace:"nowrap"},Le={padding:"7px 0px 7px 16px"},Ye=function(e){return Object(r.jsx)(G.a,Object(q.a)({style:Le},e))},qe=function(e){var t=e.data,a=e.game,n=c.a.useState(Me),i=Object(s.a)(n,2),l=i[0],o=l.order,d=l.orderBy,j=l.thenBy,b=l.rowsPerPage,u=l.page,h=i[1],m=ze();return Object(r.jsx)("div",{className:m.root,children:Object(r.jsxs)(H.a,{size:"small",children:[Object(r.jsx)(Re,{order:o,orderBy:d,onRequestSort:function(e,t,a){var r=t,n=a;h((function(e){return Object(q.a)(Object(q.a)({},e),{},{order:e.orderBy===r&&"desc"===e.order?"asc":"desc",orderBy:r,thenBy:n})}))}}),Object(r.jsx)(X.a,{children:Se(t,o,d,j).slice(u*b,u*b+b).map((function(e){return Object(r.jsxs)(J.a,{tabIndex:-1,children:[Object(r.jsx)(Ye,{align:"left",children:Object(r.jsx)(k.a,{style:Pe,color:"inherit",href:Te(a).userUrl(e.user.id),rel:"noreferrer",target:"_blank",children:e.user.name})}),Object(r.jsx)(Ye,{align:"left",children:e.wrs}),Object(r.jsxs)(Ye,{align:"left",children:[e.duration," day",1===e.duration?"":"s"]})]},e.user.id)}))})]})})},Ue=a(14),Ee=a.n(Ue),Ie=a(88),We=a.n(Ie),_e=a(264);function Fe(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(void 0===e||null===e)return e;if("Stunts"===a)return e+" pts.";if("tm2"!==t){var r=(e/=10)%100,n=Math.floor(e/100),c=n%60,i=Math.floor(n/60);return(i>0?i+":":"")+(c<10&&i>0?"0"+c:c)+"."+(r<10?"0"+r:r)}var l=e%1e3,o=Math.floor(e/1e3),s=o%60,d=Math.floor(o/60);return(d>0?d+":":"")+(s<10&&d>0?"0"+s:s)+"."+(l<100?l<10?"00"+l:"0"+l:l)}var Ae=Object(_e.a)().domain([0,24,336,1440]).range(["#2eb82e","#258e25","#cca300","#e67300"]);function He(e){var t=E()().diff(E()(e),"hours");return t<=1440?Ae(t):void 0}var Xe=Object(_e.a)().domain([0,480,960,1440]).range(["#2eb82e","#cca300","#e67300","#e63200"]);for(var Ge=[{id:"track.name",sortable:!0,label:"Track",align:"left"},{id:"score",sortable:!0,label:"Record",align:"left"},{id:"user.name",sortable:!0,label:"Player",align:"left"},{id:"date",sortable:!0,label:"Date",align:"left"},{id:"duration",sortable:!0,label:"Duration",align:"left"}],Ze=function(e){var t=e.order,a=e.orderBy,n=e.onRequestSort;return Object(r.jsx)(Z.a,{children:Object(r.jsx)(J.a,{children:Ge.map((function(e){return Object(r.jsxs)(G.a,{align:e.align,padding:"default",sortDirection:a===e.id&&t,children:[!0===e.sortable&&Object(r.jsx)(K.a,{title:"Sort by "+e.label,placement:"bottom-start",enterDelay:300,children:Object(r.jsx)(ve.a,{active:a===e.id,direction:t,onClick:(c=e.id,function(e){n(e,c)}),children:e.label})}),!1===e.sortable&&e.label]},e.id);var c}))})})},Je=Object(u.a)((function(e){return{root:{overflowX:"auto"}}})),Ke={order:"asc",orderBy:"track.name",page:0,rowsPerPage:250},$e={whiteSpace:"nowrap"},Ve={padding:"7px 0px 7px 16px"},Qe=function(e){return Object(r.jsx)(G.a,Object(q.a)({style:Ve},e))},et=function(e){var t=e.data,a=e.game,n=e.stats,i=e.useLiveDuration,l=c.a.useState(Ke),o=Object(s.a)(l,2),d=o[0],j=d.order,b=d.orderBy,u=d.rowsPerPage,h=d.page,m=o[1],O=Te(a),f=Je();return Object(r.jsx)("div",{className:f.root,children:Object(r.jsxs)(H.a,{size:"small",children:[Object(r.jsx)(Ze,{order:j,orderBy:b,onRequestSort:function(e,t){var a=t;m((function(e){return Object(q.a)(Object(q.a)({},e),{},{order:e.orderBy===a&&"desc"===e.order?"asc":"desc",orderBy:a})}))}}),Object(r.jsx)(X.a,{children:we(t,j,b).slice(h*u,h*u+u).map((function(e){var t=Fe(e.score,a,e.track.type);return Object(r.jsxs)(J.a,{tabIndex:-1,children:[(e.track.isFirst||"track.name"!==b)&&Object(r.jsx)(Qe,{style:$e,rowSpan:"track.name"!==b?1:e.track.records,align:"left",children:Object(r.jsx)(k.a,{color:"inherit",href:O.trackUrl(e.track.id),rel:"noreferrer",target:"_blank",children:e.track.name})}),Object(r.jsxs)(Qe,{align:"left",children:[Object(r.jsx)(K.a,{title:"Download Replay",placement:"bottom-end",enterDelay:300,children:Object(r.jsx)(k.a,{style:$e,color:"inherit",href:O.replayUrl(e.replay),rel:"noreferrer",target:"_blank",children:t})}),"tm2"===a&&E()(e.date).isBefore("2017-05-09")&&Object(r.jsx)(K.a,{title:"This run was done on an older game version.",placement:"bottom-end",enterDelay:300,children:Object(r.jsx)("span",{children:Object(r.jsx)(v.a,{size:"small",disabled:!0,children:Object(r.jsx)(We.a,{fontSize:"inherit"})})})})]}),Object(r.jsx)(Qe,{align:"left",children:Object(r.jsx)(k.a,{style:$e,color:"inherit",href:O.userUrl(e.user.id),rel:"noreferrer",target:"_blank",children:e.user.name})}),Object(r.jsx)(Qe,{align:"left",children:Object(r.jsx)(K.a,{title:Object(r.jsx)(Ee.a,{fromNow:!0,children:e.date}),placement:"bottom-end",enterDelay:300,children:Object(r.jsx)(Ee.a,{style:Object(q.a)({color:He(e.date)},$e),format:"YYYY-MM-DD",children:e.date})})}),Object(r.jsx)(Qe,{align:"left",children:Object(r.jsx)(K.a,{title:"in days",placement:"bottom-end",enterDelay:300,children:i?Object(r.jsx)(Ee.a,{style:$e,diff:e.date,unit:"days"}):Object(r.jsx)("span",{children:e.duration})})})]},"".concat(e.track.name,"-").concat(e.user.id))}))}),Object(r.jsxs)(X.a,{children:[n.totalTime>0&&Object(r.jsxs)(J.a,{children:[Object(r.jsx)(Qe,{align:"right",children:"Total Time"}),Object(r.jsx)(Qe,{children:Object(r.jsx)(K.a,{title:E.a.duration(n.totalTime,"ms").humanize(),placement:"bottom-end",enterDelay:300,children:Object(r.jsx)("span",{children:Fe(n.totalTime,a)})})}),Object(r.jsx)(Qe,{colSpan:3})]}),n.totalPoints>0&&Object(r.jsxs)(J.a,{children:[Object(r.jsx)(Qe,{align:"right",children:"Total Points"}),Object(r.jsx)(Qe,{children:Object(r.jsx)("span",{children:Fe(n.totalPoints,a,"Stunts")})}),Object(r.jsx)(Qe,{colSpan:3})]})]})]})})},tt=a(142),at=a.n(tt),rt=function(e,t){return"https://speedrun.com/tmwii/".concat(e,"#").concat(t)},nt=function(e){return"https://www.speedrun.com/user/".concat(e)},ct=function(e){return"https://www.speedrun.com/tmwii/run/".concat(e)},it=[{id:"track.name",sortable:!0,label:"Track",align:"left"},{id:"score",sortable:!0,label:"Record",align:"left"},{id:"user.name",sortable:!0,label:"Player",align:"left"},{id:"date",sortable:!0,label:"Date",align:"left"},{id:"duration",sortable:!0,label:"Duration",align:"left"},{id:"replay",sortable:!1,label:"Video",align:"left"}],lt=function(e){var t=e.order,a=e.orderBy,n=e.onRequestSort;return Object(r.jsx)(Z.a,{children:Object(r.jsx)(J.a,{children:it.map((function(e){return Object(r.jsxs)(G.a,{align:e.align,padding:"default",sortDirection:a===e.id&&t,children:[!0===e.sortable&&Object(r.jsx)(K.a,{title:"Sort by "+e.label,placement:"bottom-start",enterDelay:300,children:Object(r.jsx)(ve.a,{active:a===e.id,direction:t,onClick:(c=e.id,function(e){n(e,c)}),children:e.label})}),!1===e.sortable&&e.label]},e.id);var c}))})})},ot=Object(u.a)((function(e){return{root:{overflowX:"auto"}}})),st={order:"asc",orderBy:"track.name",page:0,rowsPerPage:250},dt={whiteSpace:"nowrap"},jt={padding:"7px 0px 7px 16px"},bt=function(e){return Object(r.jsx)(G.a,Object(q.a)({style:jt},e))},ut=function(e){var t=e.data,a=e.game,n=e.stats,i=e.useLiveDuration,l=e.category,o=c.a.useState(st),d=Object(s.a)(o,2),j=d[0],b=j.order,u=j.orderBy,h=j.rowsPerPage,m=j.page,O=d[1],f=ot();return Object(r.jsx)("div",{className:f.root,children:Object(r.jsxs)(H.a,{size:"small",children:[Object(r.jsx)(lt,{order:b,orderBy:u,onRequestSort:function(e,t){var a=t;O((function(e){return Object(q.a)(Object(q.a)({},e),{},{order:e.orderBy===a&&"desc"===e.order?"asc":"desc",orderBy:a})}))}}),Object(r.jsx)(X.a,{children:we(t,b,u).slice(m*h,m*h+h).map((function(e){return Object(r.jsxs)(J.a,{tabIndex:-1,children:[(e.track.isFirst||"track.name"!==u)&&Object(r.jsx)(bt,{style:dt,rowSpan:"track.name"!==u?1:e.track.records,align:"left",children:Object(r.jsx)(k.a,{color:"inherit",href:rt(e.track.name,l),rel:"noreferrer",target:"_blank",children:e.track.name})}),Object(r.jsx)(bt,{align:"left",children:Object(r.jsx)(k.a,{style:dt,color:"inherit",href:ct(e.id),rel:"noreferrer",target:"_blank",children:Fe(e.score,a)})}),Object(r.jsx)(bt,{align:"left",children:Object(r.jsx)(k.a,{style:dt,color:"inherit",href:nt(e.user.name),rel:"noreferrer",target:"_blank",children:e.user.name})}),Object(r.jsx)(bt,{align:"left",children:Object(r.jsx)(K.a,{title:Object(r.jsx)(Ee.a,{fromNow:!0,children:e.date}),placement:"bottom-end",enterDelay:300,children:Object(r.jsx)(Ee.a,{style:Object(q.a)({color:He(e.date)},dt),format:"YYYY-MM-DD",children:e.date})})}),Object(r.jsx)(bt,{align:"left",children:Object(r.jsx)(K.a,{title:"in days",placement:"bottom-end",enterDelay:300,children:i?Object(r.jsx)(Ee.a,{style:dt,diff:e.date,unit:"days"}):Object(r.jsx)("span",{children:e.duration})})}),Object(r.jsx)(bt,{align:"left",children:Object(r.jsx)(K.a,{title:"Watch Run",placement:"bottom-end",enterDelay:300,children:Object(r.jsx)(v.a,{size:"small",href:e.media,target:"_blank",children:Object(r.jsx)(at.a,{fontSize:"inherit"})})})})]},"".concat(e.track.name,"-").concat(e.user.id))}))}),Object(r.jsx)(X.a,{children:n.totalTime>0&&Object(r.jsxs)(J.a,{children:[Object(r.jsx)(bt,{align:"right",children:"Total Time"}),Object(r.jsx)(bt,{children:Object(r.jsx)(K.a,{title:E.a.duration(n.totalTime,"ms").humanize(),placement:"bottom-end",enterDelay:300,children:Object(r.jsx)("span",{children:Fe(n.totalTime,a)})})}),Object(r.jsx)(bt,{colSpan:4})]})})]})})},ht=function(e){var t=e.data,a=e.props;return Object(r.jsx)(T.a,Object(q.a)(Object(q.a)({variant:"h5",gutterBottom:!0,style:{padding:"50px 0px 50px 50px"}},a),{},{children:t}))},mt=a(109),Ot=a.n(mt),ft=a(253),xt=Object(ft.a)((function(e){var t=e.labels,a=e.series,n=e.title,c=e.theme,i=e.rest,l=void 0===i||i,o="dark"===c.palette.type;if(l&&a.length>30){var s=a.slice(30).reduce((function(e,t){return e+t}),0);a=a.slice(0,30),t=t.slice(0,30),a.push(s),t.push("Rest")}var d=new Array(a.length).fill(0).map((function(){return"#"+(16777215*Math.random()<<0).toString(16).padStart(6,"0")}));return Object(r.jsx)(Ot.a,{options:{labels:t,legend:{show:!1},responsive:[{breakpoint:380,options:{chart:{height:"300px"}}}],plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0},value:{show:!0,color:o?"white":"black"},total:{show:!0,label:n,color:o?"white":"black"}}}}},colors:d},series:a,type:"donut",height:"400"})})),pt=a(255),gt=a(254),yt=a(143),vt=a.n(yt),kt=Object(u.a)((function(e){return{fab:{margin:0,top:"auto",right:30,bottom:30,left:"auto",position:"fixed"}}})),wt=function(){!function e(){var t=document.documentElement.scrollTop;t>0&&(window.requestAnimationFrame(e),window.scrollTo(0,t-t/5))}()},St=function(){var e=function(){var e=c.a.useRef(void 0),t=c.a.useState({x:0,y:0}),a=Object(s.a)(t,2),r=a[0],n=a[1],i=c.a.useCallback((function(){clearTimeout(e.current),e.current=setTimeout((function(){n({x:window.scrollX,y:window.scrollY})}),100)}),[n]);return c.a.useEffect((function(){return window.addEventListener("scroll",i),function(){clearTimeout(e.current),window.removeEventListener("scroll",i)}}),[i]),r}().y,t=kt();return Object(r.jsx)(gt.a,{in:0!==e,timeout:1e3,children:Object(r.jsx)(pt.a,{title:"Jump to top",color:"primary",className:t.fab,onClick:wt,children:Object(r.jsx)(vt.a,{})})})},Dt=new(function(){function e(){Object(ee.a)(this,e),this.baseApi="https://raw.githubusercontent.com/NeKzBot/tmx-records/api"}return Object(te.a)(e,[{key:"request",value:function(){var e=Object(Oe.a)(he.a.mark((function e(t,a){var r;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.baseApi,"/").concat(t,"/").concat(a||"latest",".json"));case 2:if(r=e.sent,console.log("GET ".concat(r.url," (").concat(r.status,")")),r.ok){e.next=6;break}throw r;case 6:return e.next=8,r.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}()),Bt=Object(u.a)((function(e){return{padTop:{paddingTop:"70px"}}})),Ct=Object(fe.a)((function(e){var t=e.match,a=z(),n=c.a.useState(void 0),i=Object(s.a)(n,2),l=i[0],o=i[1],d=c.a.useState("tm2"),j=Object(s.a)(d,2),b=j[0],u=j[1],h=c.a.useState(0),m=Object(s.a)(h,2),O=m[0],f=m[1],x=t.params[0],p=t.params.date,g=void 0===p||"latest"===p;c.a.useEffect((function(){f(0),o(void 0)}),[x]),c.a.useEffect((function(){Object(Oe.a)(he.a.mark((function e(){var t,r,n,c;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt.request(x,p);case 2:if((t=e.sent)[0]&&t[0].tracks[0].wrs){r=Object(me.a)(t);try{for(c=function(){var e=n.value;void 0===e.stats.totalPoints&&(e.stats.totalTime=e.tracks.filter((function(e){return"Stunts"!==e.type})).map((function(e){return e.wrs[0].score})).reduce((function(e,t){return e+t}),0),e.stats.totalPoints=e.tracks.filter((function(e){return"Stunts"===e.type})).map((function(e){return e.wrs[0].score})).reduce((function(e,t){return e+t}),0));var t,a=[],r=Object(me.a)(e.tracks);try{for(r.s();!(t=r.n()).done;){var c,i=t.value,l=Object(me.a)(i.wrs);try{for(l.s();!(c=l.n()).done;){var o=c.value,s=g?E()().diff(E()(o.date),"d"):o.duration;a.push(Object(q.a)(Object(q.a)({track:{id:i.id,name:i.name,type:i.type,isFirst:o===i.wrs[0],records:i.wrs.length}},o),{},{duration:s}))}}catch(d){l.e(d)}finally{l.f()}}}catch(d){r.e(d)}finally{r.f()}e.tracks=a,g&&e.leaderboard.forEach((function(t,a){e.leaderboard[a].duration=e.tracks.filter((function(e){return e.user.id===t.user.id})).map((function(e){return e.duration})).reduce((function(e,t){return e+t}),0)}))},r.s();!(n=r.n()).done;)c()}catch(i){r.e(i)}finally{r.f()}}if(a.current){e.next=6;break}return e.abrupt("return");case 6:u(x),o(t);case 8:case"end":return e.stop()}}),e)})))()}),[a,x,p,g]);var y="tmwii"===b?ut:et,v=Bt();return Object(r.jsxs)(Q,{children:[Object(r.jsx)(F.a,{children:void 0===l?Object(r.jsx)(pe.a,{}):0===l.length?Object(r.jsx)(ht,{data:"No data."}):Object(r.jsxs)(r.Fragment,{children:[l.length>1&&Object(r.jsx)(ye.a,{value:O,onChange:function(e,t){f(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",children:l.map((function(e){return Object(r.jsx)(ge.a,{label:e.name},e.name)}))}),Object(r.jsx)(T.a,{component:"div",role:"tabpanel",children:Object(r.jsx)(xe.a,{p:3,children:Object(r.jsxs)($.a,{container:!0,direction:"column",justify:"center",children:[Object(r.jsx)($.a,{item:!0,xs:12,children:Object(r.jsx)(y,{data:l[O].tracks,game:b,stats:l[O].stats,useLiveDuration:g,category:l[O].name})}),Object(r.jsx)($.a,{item:!0,xs:12,className:v.padTop,children:Object(r.jsxs)($.a,{container:!0,direction:"row",justify:"center",alignContent:"center",children:[Object(r.jsx)($.a,{item:!0,xs:12,md:6,children:Object(r.jsx)(qe,{data:l[O].leaderboard,game:x})}),Object(r.jsx)($.a,{item:!0,xs:12,md:6,className:v.padTop,children:Object(r.jsxs)($.a,{container:!0,direction:"column",justify:"center",children:[Object(r.jsx)($.a,{item:!0,xs:12,children:Object(r.jsx)(xt,{title:"WRs",labels:l[O].leaderboard.map((function(e){return e.user.name})),series:l[O].leaderboard.map((function(e){return e.wrs}))})}),Object(r.jsx)($.a,{item:!0,xs:12,className:v.padTop,children:Object(r.jsx)(xt,{title:"Duration",labels:l[O].leaderboard.map((function(e){return e.user.name})),series:l[O].leaderboard.map((function(e){return e.duration}))})})]})})]})})]})})})]})}),Object(r.jsx)(St,{})]})})),Tt=a(144),Nt=a.n(Tt),Rt=a(258),zt=a(271),Mt=a(272),Pt=a(268),Lt=a(17),Yt=function(e){return Object(r.jsx)(Pt.a,Object(q.a)({elevation:6,variant:"filled"},e))},qt={info:"drag & drop replay here :)",magic:"GBX",version:6,settings:"BUCR",classId:50933760,headerSize:331,headerChunks:2,chunkOffset:348},Ut=function(){var e=z(),t=Object(Lt.a)(),a=c.a.useRef(null),n=c.a.useState(qt),i=Object(s.a)(n,2),l=i[0],o=i[1],d=c.a.useState(!0),j=Object(s.a)(d,2),b=j[0],u=j[1],h=c.a.useState(!1),m=Object(s.a)(h,2),O=m[0],f=m[1],x=function(e,t){"clickaway"!==t&&f(!1)},p=c.a.useCallback((function(t){if(t){var a=new FileReader;a.onload=function(t){var a=t.target.result;try{if(!e.current)return;o(qt),f(!1);var r=window,n=r.Buffer,c=r.Replay,i=window.replay=c.default().read(n.from(a),{parseGhost:b});if(!e.current)return;i.ghost&&delete i.ghost.restData,function e(t){Object.keys(t).forEach((function(a){"_view"===a?delete t._view:"object"===typeof t[a]&&e(t[a])}))}(i),o(i)}catch(l){e.current&&f(l.message)}},a.readAsArrayBuffer(t)}}),[e,b,o,f]),g=c.a.useCallback((function(e){return p(e.target.files[0])}),[p]),y=function(e){e.dataTransfer.items?e.dataTransfer.items.clear():e.dataTransfer.clearData()};c.a.useEffect((function(){return a.current&&a.current.addEventListener("change",g),function(){return a.current&&a.current.removeEventListener("change",g)}}),[a,g]);var v=c.a.useCallback((function(){a.current.click()}),[a]);return Object(r.jsx)(Q,{children:Object(r.jsxs)(F.a,{style:{padding:"20px 20px 20px 20px"},children:[Object(r.jsx)(Rt.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:v,children:"Open file"}),Object(r.jsx)("input",{type:"file",ref:a,style:{display:"none"}}),Object(r.jsx)(W.a,{style:{marginLeft:"20px"},control:Object(r.jsx)(zt.a,{color:"primary",checked:b,onChange:function(e){u(e.target.checked)}}),label:"Parse Ghost"}),Object(r.jsx)("div",{style:{paddingBottom:"20px"}}),Object(r.jsx)("div",{onDrop:function(e){e.preventDefault();var t=[];if(e.dataTransfer.items)for(var a=0;a<e.dataTransfer.items.length;++a)"file"===e.dataTransfer.items[a].kind&&t.push(e.dataTransfer.items[a].getAsFile());p(t[0]),y(e)},onDragOver:function(e){e.preventDefault()},children:Object(r.jsx)(Nt.a,{name:"replay",style:{fontSize:"14px"},src:l,theme:"light"===t.palette.type?"bright:inverted":"solarized",displayDataTypes:!1,displayObjectSize:!1,enableClipboard:!1})}),Object(r.jsx)(Mt.a,{open:!1!==O,autoHideDuration:6e3,onClose:x,children:Object(r.jsx)(Yt,{onClose:x,severity:"error",children:O})})]})})},Et=function(){return Object(r.jsx)(Q,{children:Object(r.jsx)(F.a,{children:Object(r.jsx)(ht,{data:"Page not found :("})})})},It=a(90),Wt=a.n(It),_t=a(276),Ft=a(261),At=a(266),Ht=[{id:"user.name",sortable:!1,label:"Player",align:"left"},{id:"wrs",id2:"duration",sortable:!0,label:"World Records",align:"left"},{id:"duration",id2:"wrs",sortable:!0,label:"Total Duration",align:"left"}],Xt=[{id:"user.name",sortable:!1,label:"Player",align:"left"},{id:"wrs",sortable:!0,label:"World Records",align:"left"}],Gt=function(e){var t=e.order,a=e.orderBy,n=e.onRequestSort,c=e.hasDuration,i=c?Ht:Xt;return Object(r.jsx)(Z.a,{children:Object(r.jsx)(J.a,{children:i.map((function(e){return Object(r.jsxs)(G.a,{align:e.align,padding:"default",sortDirection:a===e.id&&t,children:[!0===e.sortable&&Object(r.jsx)(K.a,{title:"Sort by "+e.label,placement:"bottom-start",enterDelay:300,children:Object(r.jsx)(ve.a,{active:a===e.id,direction:t,onClick:(c=e.id,i=e.id2,function(e){n(e,c,i)}),children:e.label})}),!1===e.sortable&&e.label]},e.id);var c,i}))})})},Zt=Object(u.a)((function(e){return{root:{overflowX:"auto"}}})),Jt={order:"desc",orderBy:"wrs",thenBy:"duration",page:0,rowsPerPage:50},Kt={padding:"7px 0px 7px 16px"},$t=function(e){return Object(r.jsx)(G.a,Object(q.a)({style:Kt},e))},Vt=function(e){var t=e.data,a=e.hasDuration,n=c.a.useState(Jt),i=Object(s.a)(n,2),l=i[0],o=l.order,d=l.orderBy,j=l.thenBy,b=i[1];c.a.useEffect((function(){b((function(e){return Object(q.a)(Object(q.a)({},e),{},{orderBy:"wrs",thenBy:"wrs"})}))}),[t,a]);var u=Zt();return Object(r.jsx)("div",{className:u.root,children:Object(r.jsxs)(H.a,{size:"small",children:[Object(r.jsx)(Gt,{order:o,orderBy:d,onRequestSort:function(e,t,a){var r=t,n=a;b((function(e){return Object(q.a)(Object(q.a)({},e),{},{order:e.orderBy===r&&"desc"===e.order?"asc":"desc",orderBy:r,thenBy:n})}))},hasDuration:a}),Object(r.jsx)(X.a,{children:(a?Se:we)(t,o,d,j).map((function(e){return Object(r.jsxs)(J.a,{tabIndex:-1,children:[Object(r.jsx)($t,{align:"left",children:Object(r.jsx)(k.a,{color:"inherit",href:(t=e.user,"https://trackmania.io/#/player/".concat(encodeURIComponent(t.id))),rel:"noreferrer",target:"_blank",children:e.user.name})}),Object(r.jsx)($t,{align:"left",children:e.wrs}),a&&Object(r.jsx)($t,{align:"left",children:e.duration})]},e.user.name);var t}))})]})})},Qt=a(101),ea=a(147),ta=a(259),aa=a(80),ra=a.n(aa),na=a(110),ca=a.n(na),ia=[{id:"track.name",sortable:!0,label:"Track",align:"left"},{id:"score",sortable:!0,label:"Record",align:"left"},{id:"user.name",sortable:!0,label:"Player",align:"left"},{id:"zone",sortable:!0,label:"Zone",align:"left"},{id:"date",sortable:!0,label:"Date",align:"left"},{id:"duration",sortable:!0,label:"Duration",align:"left"}],la=[{id:"track.monthDay",sortable:!0,label:"Day",align:"left"},{id:"track.name",sortable:!0,label:"Track",align:"left"},{id:"score",sortable:!0,label:"Record",align:"left"},{id:"user.name",sortable:!0,label:"Player",align:"left"},{id:"zone",sortable:!0,label:"Zone",align:"left"}],oa=function(e){var t=e.order,a=e.orderBy,n=e.onRequestSort,c=e.official,i=c?ia:la;return Object(r.jsx)(Z.a,{children:Object(r.jsx)(J.a,{children:i.map((function(e,c){return Object(r.jsxs)(G.a,{align:e.align,padding:"default",sortDirection:a===e.id&&t,colSpan:c===i.length-1?2:1,children:[!0===e.sortable&&Object(r.jsx)(K.a,{title:"Sort by "+e.label,placement:"bottom-start",enterDelay:300,children:Object(r.jsx)(ve.a,{active:a===e.id,direction:t,onClick:(l=e.id,function(e){n(e,l)}),children:e.label})}),!1===e.sortable&&e.label]},c);var l}))})})},sa=Object(u.a)((function(e){return{root:{overflowX:"auto"}}})),da={order:"asc",orderBy:"track.name",page:0,rowsPerPage:250},ja={whiteSpace:"nowrap"},ba={padding:"7px 0px 7px 16px"},ua=function(e){return Object(r.jsx)(G.a,Object(q.a)({style:ba},e))},ha=function(e){return"https://trackmania.io/#/player/".concat(encodeURIComponent(e.id))},ma=Object(u.a)({root:{"& > *":{borderBottom:"unset"}}}),Oa=function(e){var t,a=e.wr,n=e.official,c=Fe(a.score,"tm2"),i=0!==a.delta?Fe(a.delta,"tm2"):null;return Object(r.jsxs)(J.a,{tabIndex:-1,children:[n&&Object(r.jsx)(ua,{align:"left",children:Object(r.jsx)(K.a,{title:Object(r.jsx)(Ee.a,{format:"HH:mm",children:a.date}),placement:"bottom-end",enterDelay:300,children:Object(r.jsx)(Ee.a,{style:Object(q.a)({color:He(a.date)},ja),format:"YYYY-MM-DD",children:a.date})})}),!n&&Object(r.jsx)(ua,{align:"left",children:Object(r.jsx)(K.a,{title:a.setAfter,placement:"bottom-end",enterDelay:300,children:Object(r.jsx)(Ee.a,{style:Object(q.a)({color:(t=a.pastMinutes,t>=0&&t<=1440?Xe(t):void 0)},ja),format:"HH:mm",children:a.date})})}),Object(r.jsxs)(ua,{align:"left",children:[c,a.note&&Object(r.jsx)(K.a,{title:a.note,placement:"bottom-end",enterDelay:300,children:Object(r.jsx)("span",{children:Object(r.jsx)(v.a,{size:"small",disabled:!0,children:Object(r.jsx)(We.a,{fontSize:"inherit"})})})})]}),Object(r.jsx)(ua,{align:"left",children:i?"-"+i:""}),Object(r.jsx)(ua,{align:"left",children:Object(r.jsx)(k.a,{color:"inherit",href:ha(a.user),rel:"noreferrer",target:"_blank",children:a.user.name})}),Object(r.jsx)(ua,{align:"left",children:Object(r.jsx)(K.a,{title:a.user.zone.map((function(e){return e.name})).join(" | "),placement:"bottom",enterDelay:300,children:Object(r.jsx)("span",{children:a.user.zone[2].name})})}),Object(r.jsx)(ua,{align:"left",children:Object(r.jsx)(K.a,{title:"Download Ghost",placement:"bottom",enterDelay:300,children:Object(r.jsx)(v.a,{size:"small",style:ja,color:"inherit",href:"https://prod.trackmania.core.nadeo.online/storageObjects/"+a.replay,rel:"noreferrer",target:"_blank",children:Object(r.jsx)(ra.a,{fontSize:"inherit"})})})})]})},fa=function(e){var t,a=e.wr,n=e.official,c=e.orderBy,i=e.useLiveDuration,l=e.history,o=e.onClickHistory,s=Fe(a.score,"tm2"),d=0!==a.delta?Fe(a.delta,"tm2"):null,j=ma(),b=l===a.track.id,u="track.monthDay"===c||"track.name"===c;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(J.a,{tabIndex:-1,children:[!n&&(a.track.isFirst||!u)&&Object(r.jsx)(ua,{align:"left",rowSpan:u?a.track.records:1,children:a.track.monthDay}),(a.track.isFirst||!u)&&Object(r.jsx)(ua,{style:ja,rowSpan:u?a.track.records:1,align:"left",children:Object(r.jsx)(k.a,{color:"inherit",href:(t=a.track,"https://trackmania.io/#/leaderboard/".concat(encodeURIComponent(t.id))),rel:"noreferrer",target:"_blank",children:a.track.name})}),Object(r.jsxs)(ua,{align:"left",children:[n&&d&&Object(r.jsx)(K.a,{title:Object(r.jsxs)("span",{children:["-",d," to former record"]}),placement:"bottom",enterDelay:300,children:Object(r.jsx)("span",{children:s})}),n&&!d&&Object(r.jsx)("span",{children:s}),!n&&d&&Object(r.jsx)(K.a,{title:Object(r.jsxs)("span",{children:["-",d," to former record"]}),placement:"bottom",enterDelay:300,children:Object(r.jsx)("span",{children:s})}),!n&&!d&&Object(r.jsx)("span",{children:s})]}),Object(r.jsx)(ua,{style:ja,align:"left",children:Object(r.jsx)(k.a,{color:"inherit",href:ha(a.user),rel:"noreferrer",target:"_blank",children:a.user.name})}),Object(r.jsx)(ua,{style:ja,align:"left",children:Object(r.jsx)(K.a,{title:a.user.zone.map((function(e){return e.name})).join(" | "),placement:"bottom",enterDelay:300,children:Object(r.jsx)("span",{children:a.user.zone[2].name})})}),n&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ua,{align:"left",children:Object(r.jsx)(K.a,{title:Object(r.jsx)(Ee.a,{fromNow:!0,children:a.date}),placement:"bottom-end",enterDelay:300,children:Object(r.jsx)(Ee.a,{style:Object(q.a)({color:He(a.date)},ja),format:"YYYY-MM-DD",children:a.date})})}),Object(r.jsx)(ua,{align:"left",children:Object(r.jsx)(K.a,{title:"in days",placement:"bottom-end",enterDelay:300,children:i?Object(r.jsx)(Ee.a,{style:ja,diff:a.date,unit:"days"}):Object(r.jsx)("span",{children:a.duration})})})]}),Object(r.jsxs)(ua,{style:ja,align:"left",children:[Object(r.jsx)(K.a,{title:"Download Ghost",placement:"bottom",enterDelay:300,children:Object(r.jsx)(v.a,{size:"small",style:ja,color:"inherit",href:"https://prod.trackmania.core.nadeo.online/storageObjects/"+a.replay,rel:"noreferrer",target:"_blank",children:Object(r.jsx)(ra.a,{fontSize:"inherit"})})}),a.track.isLast&&a.track.history&&Object(r.jsx)(v.a,{color:"inherit",size:"small",style:ja,onClick:function(){return o(a.track.id)},children:Object(r.jsx)(ca.a,{fontSize:"inherit"})})]})]}),a.track.isLast&&a.track.history&&Object(r.jsx)(J.a,{className:j.root,children:Object(r.jsx)(ua,{style:{paddingBottom:0,paddingTop:0},colSpan:7,children:Object(r.jsx)(ta.a,{in:b,timeout:"auto",unmountOnExit:!0,children:Object(r.jsxs)(xe.a,{margin:1,children:[Object(r.jsx)(T.a,{variant:"h6",gutterBottom:!0,component:"div",children:"History"}),Object(r.jsxs)(H.a,{size:"small","aria-label":"purchases",children:[Object(r.jsx)(Z.a,{children:Object(r.jsxs)(J.a,{children:[Object(r.jsx)(ua,{children:n?"Date":"Time"}),Object(r.jsx)(ua,{children:"Record"}),Object(r.jsx)(ua,{children:"Timesave"}),Object(r.jsx)(ua,{children:"Player"}),Object(r.jsx)(ua,{colSpan:2,children:"Zone"})]})}),Object(r.jsx)(X.a,{children:a.track.history.map((function(e,t){return Object(r.jsx)(Oa,{wr:e,official:n},t)}))})]})]})})})})]})},xa=function(e){var t=e.data,a=e.stats,n=e.official,i=e.useLiveDuration,l=M("tm2020",{official:{order:"asc",orderBy:"track.name"},totd:{order:"asc",orderBy:"track.monthDay"}}),o=Object(s.a)(l,2),d=o[0],j=o[1],b=c.a.useState(da),u=Object(s.a)(b,2),h=u[0],m=h.order,O=h.rowsPerPage,f=h.page,x=Object(ea.a)(h,["order","rowsPerPage","page"]),p=u[1],g=c.a.useState(null),y=Object(s.a)(g,2),v=y[0],k=y[1],w=x.orderBy;w=n?d.official.orderBy:d.totd.orderBy,w=n&&"track.monthDay"===w?"track.name":w;c.a.useEffect((function(){var e=d[n?"official":"totd"];p((function(t){return Object(q.a)(Object(q.a)({},t),{},{order:e.order,orderBy:e.orderBy})}))}),[t]);var S=c.a.useCallback((function(e){k(v!==e?e:null)}),[v,k]),D=sa();return Object(r.jsx)("div",{className:D.root,children:Object(r.jsxs)(H.a,{size:"small",children:[Object(r.jsx)(oa,{order:m,orderBy:w,onRequestSort:function(e,t){var a=t;p((function(e){var t=e.orderBy===a&&"desc"===e.order?"asc":"desc";return j(Object(q.a)(Object(q.a)({},d),{},Object(Qt.a)({},n?"official":"totd",{order:t,orderBy:a}))),Object(q.a)(Object(q.a)({},e),{},{order:t,orderBy:a})}))},official:n}),Object(r.jsx)(X.a,{children:we(t,m,w).slice(f*O,f*O+O).map((function(e,t){return Object(r.jsx)(fa,{wr:e,official:n,orderBy:w,useLiveDuration:i,history:v,onClickHistory:S},t)}))}),Object(r.jsx)(X.a,{children:a.totalTime>0&&Object(r.jsxs)(J.a,{children:[Object(r.jsx)(ua,{align:"right",colSpan:n?1:2,children:"Total Time"}),Object(r.jsx)(ua,{children:Object(r.jsx)(K.a,{title:E.a.duration(a.totalTime,"ms").humanize(),placement:"bottom-end",enterDelay:300,children:Object(r.jsx)("span",{children:Fe(a.totalTime,"tm2")})})}),Object(r.jsx)(ua,{colSpan:n?5:3})]})})]})})},pa=Object(ft.a)((function(e){var t=e.labels,a=e.series,n=(e.title,"dark"===e.theme.palette.type);return Object(r.jsx)(Ot.a,{options:{xaxis:{categories:t},legend:{show:!1},dataLabels:{enabled:!1},chart:{toolbar:{show:!1},foreColor:n?"white":"black"},tooltip:{theme:n?"dark":"light"},responsive:[{breakpoint:380,options:{chart:{height:"300px"}}}],plotOptions:{bar:{horizontal:!0}}},series:a,type:"bar",height:"800"})})),ga=a(260),ya=[],va=[],ka=E()(),wa=E()("2020-07-01"),Sa=wa.clone(),Da={0:"Winter",1:"Spring",2:"Summer",3:"Fall"};Sa.diff(ka)<0;){var Ba=Da[Math.floor(Sa.month()/3)],Ca=Sa.format("YYYY");-1===va.indexOf(Ca)&&va.push(Ca),ya.push(Object(r.jsxs)(ga.a,{value:"campaign/".concat(Ba,"-").concat(Ca).toLowerCase(),children:[Ba," ",Ca]},ya.length)),Sa.add(3,"months")}ya.reverse(),[].reverse(),va.reverse(),ya.push(Object(r.jsx)(ga.a,{value:"campaign/training",children:"Training"},ya.length)),va=va.map((function(e){return Object(r.jsx)(ga.a,{value:e,children:e},e)}));var Ta=function(e){for(var t=[],a=e.toString()===wa.year().toString(),n=a?wa.clone():E()("".concat(e,"-01-01")),c=a?11:ka.month(),i=n.month();i<=c;++i){var l=n.format("MMMM");t.push(Object(r.jsxs)(ga.a,{value:"totd/".concat(l,"-").concat(e).toLowerCase(),children:[l," ",e]},t.length)),n.add(1,"month")}return t},Na=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=t&&t.toString()===wa.year().toString(),r=(a?wa:ka).clone();return(e?"campaign/".concat(Da[Math.floor(ka.month()/3)],"-").concat(ka.year()):"totd/".concat(r.format("MMMM"),"-").concat(t||ka.year())).toLowerCase()},Ra=function(e){return 1===e?"":"s"},za=function(e,t){var a=t.diff(e,"seconds"),r=t.diff(e,"hours");if(a>0){var n=t.diff(e,"minutes")-60*r;return"set after ".concat(r," hour").concat(Ra(r)," and ").concat(n," minute").concat(Ra(n))}var c=-r,i=-t.diff(e,"minutes")-60*c;return"set before ".concat(c," hour").concat(Ra(c)," and ").concat(i," minute").concat(Ra(i))},Ma=Object(u.a)((function(e){return{padTop:{paddingTop:"70px"},formControl:{margin:e.spacing(1),minWidth:120}}})),Pa=function(e){var t=e.campaign,a=e.onChangeCampaign,n=e.onChangeYear,i=e.isOfficial,l=e.year,o=z(),d=c.a.useState(void 0),j=Object(s.a)(d,2),b=j[0],u=j[1],h=c.a.useState("leaderboard"),m=Object(s.a)(h,2),O=m[0],f=m[1],x=c.a.useCallback((function(e){f(e.target.value)}),[f]);c.a.useEffect((function(){u(void 0),Dt.request("trackmania",t).then((function(e){var t,a=[],r=Object(me.a)(e.tracks);try{for(r.s();!(t=r.n()).done;){var n,c=t.value,i=Object(me.a)(c.wrs);try{var l=function(){var t=n.value,r=Wt()(t.date),i=e.isOfficial?void 0:Wt()().tz("Europe/Paris").set({year:e.year,month:e.month-1,date:c.monthDay,hour:19,minute:0,second:0}).utc(),l=e.isOfficial?void 0:za(i,r),o=t===c.wrs[c.wrs.length-1],s=o&&(c.history||[]).length>1?c.history:void 0;s&&!e.isOfficial&&s.forEach((function(e){var t=Wt()(e.date);e.setAfter=za(i,t),e.pastMinutes=t.diff(i,"minutes")})),a.push(Object(q.a)(Object(q.a)({track:{id:c.id,name:c.name.replace(/(\$[0-9a-fA-F]{3}|\$[WNOITSGZBEMwnoitsgzbem]{1})/g,""),monthDay:c.monthDay,isFirst:t===c.wrs[0],isLast:o,records:c.wrs.length,history:s}},t),{},{zone:(t.user.zone[2]?t.user.zone[2]:t.user.zone[0]).name,setAfter:l}))};for(i.s();!(n=i.n()).done;)l()}catch(s){i.e(s)}finally{i.f()}}}catch(s){r.e(s)}finally{r.f()}e.tracks=a,o.current&&u(e)})).catch((function(e){console.log(e),o.current&&u(null)}))}),[o,t]);var p=O.replace("Leaderboard","CountryLeaderboard").replace("leaderboard","countryLeaderboard"),g=Ma();return Object(r.jsxs)(r.Fragment,{children:[i?Object(r.jsxs)(Ft.a,{className:g.formControl,children:[Object(r.jsx)(_t.a,{children:"Campaign"}),Object(r.jsx)(At.a,{value:t,onChange:a,children:ya})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(Ft.a,{className:g.formControl,children:[Object(r.jsx)(_t.a,{children:"Year"}),Object(r.jsx)(At.a,{value:l,onChange:n,children:va})]}),Object(r.jsxs)(Ft.a,{className:g.formControl,children:[Object(r.jsx)(_t.a,{children:"Month"}),Object(r.jsx)(At.a,{value:t,onChange:a,children:Ta(l)})]})]}),null===b&&Object(r.jsx)(ht,{data:"No data."}),void 0===b&&Object(r.jsx)(pe.a,{}),Object(r.jsx)($.a,{container:!0,direction:"column",justify:"center",children:void 0!==b&&null!==b&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)($.a,{item:!0,xs:12,children:Object(r.jsx)(xa,{data:b.tracks,stats:b.stats,official:b.isOfficial})}),Object(r.jsxs)($.a,{item:!0,xs:12,className:g.padTop,children:[Object(r.jsxs)(Ft.a,{className:g.formControl,children:[Object(r.jsx)(_t.a,{children:"Rankings Type"}),Object(r.jsxs)(At.a,{value:O,onChange:x,children:[Object(r.jsx)(ga.a,{value:"leaderboard",children:"Live"}),Object(r.jsx)(ga.a,{value:"uniqueLeaderboard",children:"Unique"}),Object(r.jsx)(ga.a,{value:"historyLeaderboard",children:"Total"})]})]}),Object(r.jsxs)($.a,{container:!0,direction:"row",justify:"center",alignContent:"center",children:[Object(r.jsx)($.a,{item:!0,xs:12,md:6,children:Object(r.jsx)(Vt,{data:b[O],hasDuration:b.isOfficial&&"uniqueLeaderboard"!==O})}),Object(r.jsx)($.a,{item:!0,xs:12,md:6,className:g.padTop,children:Object(r.jsxs)($.a,{container:!0,direction:"column",justify:"center",children:[Object(r.jsx)($.a,{item:!0,xs:12,children:"uniqueLeaderboard"===O?Object(r.jsx)(pa,{title:"WRs",labels:b[O].map((function(e){return e.user.name})).slice(0,20),series:[{name:"Unique WRs",data:b[O].slice(0,20).map((function(e){return e.wrs}))}]}):Object(r.jsx)(xt,{title:"WRs",labels:b[O].map((function(e){return e.user.name})),series:b[O].map((function(e){return e.wrs}))})}),Object(r.jsx)($.a,{item:!0,xs:12,className:g.padTop,children:"uniqueLeaderboard"===O?Object(r.jsx)(pa,{title:"WRs",labels:b[p].map((function(e){return(e.zone[2]?e.zone[2]:e.zone[0]).name})).slice(0,20),series:[{name:"Unique WRs by Zone",data:b[p].slice(0,20).map((function(e){return e.wrs}))}]}):Object(r.jsx)(xt,{title:"WRs by Zone",labels:b[p].map((function(e){return(e.zone[2]?e.zone[2]:e.zone[0]).name})),series:b[p].map((function(e){return e.wrs}))})})]})})]})]})]})})]})},La=Object(u.a)((function(e){return{padTop:{paddingTop:"70px"},formControl:{margin:e.spacing(1),minWidth:120}}})),Ya=function(){var e=z(),t=c.a.useState(void 0),a=Object(s.a)(t,2),n=a[0],i=a[1],l=c.a.useState("rankings/campaign"),o=Object(s.a)(l,2),d=o[0],j=o[1],b=c.a.useState("leaderboard"),u=Object(s.a)(b,2),h=u[0],m=u[1],O=c.a.useCallback((function(e){j(e.target.value)}),[j]),f=c.a.useCallback((function(e){m(e.target.value)}),[m]);c.a.useEffect((function(){i(void 0),Dt.request("trackmania",d).then((function(t){e.current&&i(t)})).catch((function(t){console.error(t),e.current&&i(null)}))}),[i,d,e]);var x=h.replace("Leaderboard","CountryLeaderboard").replace("leaderboard","countryLeaderboard"),p=La();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(Ft.a,{className:p.formControl,children:[Object(r.jsx)(_t.a,{children:"Campaign"}),Object(r.jsxs)(At.a,{value:d,onChange:O,children:[Object(r.jsx)(ga.a,{value:"rankings/campaign",children:"Official"}),Object(r.jsx)(ga.a,{value:"rankings/totd",children:"TOTD"}),Object(r.jsx)(ga.a,{value:"rankings/combined",children:"Combined"})]})]}),Object(r.jsxs)(Ft.a,{className:p.formControl,children:[Object(r.jsx)(_t.a,{children:"Rankings Type"}),Object(r.jsxs)(At.a,{value:h,onChange:f,children:[Object(r.jsx)(ga.a,{value:"leaderboard",children:"Live"}),Object(r.jsx)(ga.a,{value:"uniqueLeaderboard",children:"Unique"}),Object(r.jsx)(ga.a,{value:"historyLeaderboard",children:"Total"})]})]}),null===n&&Object(r.jsx)(ht,{data:"No data."}),void 0===n&&Object(r.jsx)(pe.a,{}),null!==n&&void 0!==n&&Object(r.jsxs)($.a,{container:!0,direction:"row",justify:"center",alignContent:"center",children:[Object(r.jsx)($.a,{item:!0,xs:12,md:6,children:Object(r.jsx)(Vt,{data:n[h],hasDuration:"rankings/campaign"===d&&"uniqueLeaderboard"!==h})}),Object(r.jsx)($.a,{item:!0,xs:12,md:6,children:Object(r.jsxs)($.a,{container:!0,direction:"column",justify:"center",children:[Object(r.jsx)($.a,{item:!0,xs:12,className:p.padTop,children:"uniqueLeaderboard"===h?Object(r.jsx)(pa,{title:"WRs",labels:n[h].map((function(e){return e.user.name})).slice(0,20),series:[{name:"Unique WRs",data:n[h].slice(0,20).map((function(e){return e.wrs}))}]}):Object(r.jsx)(xt,{title:"WRs",labels:n[h].map((function(e){return e.user.name})),series:n[h].map((function(e){return e.wrs}))})}),Object(r.jsx)($.a,{item:!0,xs:12,className:p.padTop,children:"uniqueLeaderboard"===h?Object(r.jsx)(pa,{title:"WRs",labels:n[x].map((function(e){return(e.zone[2]?e.zone[2]:e.zone[0]).name})).slice(0,20),series:[{name:"Unique WRs by Zone",data:n[x].slice(0,20).map((function(e){return e.wrs}))}]}):Object(r.jsx)(xt,{title:"WRs by Zone",labels:n[x].map((function(e){return(e.zone[2]?e.zone[2]:e.zone[0]).name})),series:n[x].map((function(e){return e.wrs}))})})]})})]})]})},qa=Object(fe.a)((function(e){var t=e.match,a=c.a.useState(0),n=Object(s.a)(a,2),i=n[0],l=n[1],o=c.a.useState(Na(0===i)),d=Object(s.a)(o,2),j=d[0],b=d[1],u=c.a.useState(E()().year()),h=Object(s.a)(u,2),m=h[0],O=h[1],f=t.path;c.a.useEffect((function(){l(0)}),[f]);var x=c.a.useCallback((function(e){O(e.target.value),b(Na(!1,e.target.value))}),[O]),p=c.a.useCallback((function(e){b(e.target.value)}),[b]);return Object(r.jsxs)(Q,{children:[Object(r.jsxs)(F.a,{children:[Object(r.jsxs)(ye.a,{value:i,onChange:function(e,t){l(t),b(Na(0===t,m))},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",children:[Object(r.jsx)(ge.a,{label:"Campaign"}),Object(r.jsx)(ge.a,{label:"Track of the Day"}),Object(r.jsx)(ge.a,{label:"Rankings"})]}),Object(r.jsx)(T.a,{component:"div",role:"tabpanel",children:Object(r.jsxs)(xe.a,{p:3,children:[(0===i||1===i)&&Object(r.jsx)(Pa,{campaign:j,onChangeCampaign:p,onChangeYear:x,isOfficial:0===i,year:m}),2===i&&Object(r.jsx)(Ya,{})]})})]}),Object(r.jsx)(St,{})]})})),Ua=[{id:"track.name",sortable:!0,label:"Track",align:"left"},{id:"score",sortable:!0,label:"Record",align:"left"},{id:"user.name",sortable:!0,label:"Player",align:"left"},{id:"date",sortable:!0,label:"Date",align:"left"},{id:"duration",sortable:!0,label:"Duration",align:"left"}],Ea=function(e){var t=e.order,a=e.orderBy,n=e.onRequestSort;return Object(r.jsx)(Z.a,{children:Object(r.jsx)(J.a,{children:Ua.map((function(e,c){return Object(r.jsxs)(G.a,{align:e.align,padding:"default",sortDirection:a===e.id&&t,colSpan:c===Ua.length-1?2:1,children:[!0===e.sortable&&Object(r.jsx)(K.a,{title:"Sort by "+e.label,placement:"bottom-start",enterDelay:300,children:Object(r.jsx)(ve.a,{active:a===e.id,direction:t,onClick:(i=e.id,function(e){n(e,i)}),children:e.label})}),!1===e.sortable&&e.label]},c);var i}))})})},Ia=Object(u.a)((function(e){return{root:{overflowX:"auto"}}})),Wa={order:"asc",orderBy:"track.name",page:0,rowsPerPage:250},_a={whiteSpace:"nowrap"},Fa={padding:"7px 0px 7px 16px"},Aa=function(e){return Object(r.jsx)(G.a,Object(q.a)({style:Fa},e))},Ha=Object(u.a)({root:{"& > *":{borderBottom:"unset"}}}),Xa=function(e){var t=e.game,a=e.wr,n=e.trackType,c=Fe(a.score,t,n),i=0!==a.delta?Fe(a.delta,t,n):null,l="Stunts"===n?"+":"-",o=Te(t);return Object(r.jsxs)(J.a,{tabIndex:-1,children:[Object(r.jsx)(Aa,{align:"left",children:Object(r.jsx)(K.a,{title:Object(r.jsx)(Ee.a,{format:"HH:mm",children:a.date}),placement:"bottom-end",enterDelay:300,children:Object(r.jsx)(Ee.a,{style:Object(q.a)({color:He(a.date)},_a),format:"YYYY-MM-DD",children:a.date})})}),Object(r.jsx)(Aa,{align:"left",children:c}),Object(r.jsx)(Aa,{align:"left",children:i?l+i:""}),Object(r.jsx)(Aa,{align:"left",children:Object(r.jsx)(k.a,{style:_a,color:"inherit",href:o.userUrl(a.user.id),rel:"noreferrer",target:"_blank",children:a.user.name})}),Object(r.jsx)(Aa,{align:"left",children:Object(r.jsx)(K.a,{title:"Download Replay",placement:"bottom",enterDelay:300,children:Object(r.jsx)(v.a,{size:"small",style:_a,color:"inherit",href:o.replayUrl(a.replay),rel:"noreferrer",target:"_blank",children:Object(r.jsx)(ra.a,{fontSize:"inherit"})})})})]})},Ga=function(e){var t=e.game,a=e.wr,n=e.orderBy,c=e.useLiveDuration,i=e.history,l=e.onClickHistory,o=Fe(a.score,t,a.track.type),s=0!==a.delta?Fe(a.delta,t,a.track.type):null,d="Stunts"===a.track.type?"+":"-",j=Ha(),b=i===a.track.id,u="track.name"===n,h=Te(t);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(J.a,{tabIndex:-1,children:[(a.track.isFirst||!u)&&Object(r.jsx)(Aa,{style:_a,rowSpan:u?a.track.records:1,align:"left",children:Object(r.jsx)(k.a,{color:"inherit",href:h.trackUrl(a.track.id),rel:"noreferrer",target:"_blank",children:a.track.name})}),Object(r.jsxs)(Aa,{align:"left",children:[s&&Object(r.jsx)(K.a,{title:Object(r.jsxs)("span",{children:[d,s," to former record"]}),placement:"bottom",enterDelay:300,children:Object(r.jsx)("span",{children:o})}),!s&&Object(r.jsx)("span",{children:o})]}),Object(r.jsx)(Aa,{style:_a,align:"left",children:Object(r.jsx)(k.a,{color:"inherit",href:h.userUrl(a.user.id),rel:"noreferrer",target:"_blank",children:a.user.name})}),Object(r.jsx)(Aa,{align:"left",children:Object(r.jsx)(K.a,{title:Object(r.jsx)(Ee.a,{fromNow:!0,children:a.date}),placement:"bottom-end",enterDelay:300,children:Object(r.jsx)(Ee.a,{style:Object(q.a)({color:He(a.date)},_a),format:"YYYY-MM-DD",children:a.date})})}),Object(r.jsx)(Aa,{align:"left",children:Object(r.jsx)(K.a,{title:"in days",placement:"bottom-end",enterDelay:300,children:c?Object(r.jsx)(Ee.a,{style:_a,diff:a.date,unit:"days"}):Object(r.jsx)("span",{children:a.duration})})}),Object(r.jsxs)(Aa,{style:_a,align:"left",children:[Object(r.jsx)(K.a,{title:"Download Replay",placement:"bottom",enterDelay:300,children:Object(r.jsx)(v.a,{size:"small",style:_a,color:"inherit",href:h.replayUrl(a.replay),rel:"noreferrer",target:"_blank",children:Object(r.jsx)(ra.a,{fontSize:"inherit"})})}),a.track.isLast&&a.track.history&&Object(r.jsx)(v.a,{color:"inherit",size:"small",style:_a,onClick:function(){return l(a.track.id)},children:Object(r.jsx)(ca.a,{fontSize:"inherit"})})]})]}),a.track.isLast&&a.track.history&&Object(r.jsx)(J.a,{className:j.root,children:Object(r.jsx)(Aa,{style:{paddingBottom:0,paddingTop:0},colSpan:7,children:Object(r.jsx)(ta.a,{in:b,timeout:"auto",unmountOnExit:!0,children:Object(r.jsxs)(xe.a,{margin:1,children:[Object(r.jsx)(T.a,{variant:"h6",gutterBottom:!0,component:"div",children:"History"}),Object(r.jsxs)(H.a,{size:"small","aria-label":"purchases",children:[Object(r.jsx)(Z.a,{children:Object(r.jsxs)(J.a,{children:[Object(r.jsx)(Aa,{children:"Date"}),Object(r.jsx)(Aa,{children:"Record"}),Object(r.jsx)(Aa,{children:"Stunts"===a.track.type?"Improvement":"Timesave"}),Object(r.jsx)(Aa,{colSpan:2,children:"Player"})]})}),Object(r.jsx)(X.a,{children:a.track.history.map((function(e,n){return Object(r.jsx)(Xa,{game:t,wr:e,trackType:a.track.type},n)}))})]})]})})})})]})},Za=function(e){var t=e.game,a=e.data,n=e.stats,i=e.useLiveDuration,l=M(t,{order:"asc",orderBy:"track.name"}),o=Object(s.a)(l,2),d=o[0],j=o[1],b=c.a.useState(Wa),u=Object(s.a)(b,2),h=u[0],m=h.order,O=h.rowsPerPage,f=h.page,x=h.orderBy,p=u[1],g=c.a.useState(null),y=Object(s.a)(g,2),v=y[0],k=y[1];c.a.useEffect((function(){p((function(e){return Object(q.a)(Object(q.a)({},e),{},{order:d.order,orderBy:d.orderBy})}))}),[a]);var w=c.a.useCallback((function(e){k(v!==e?e:null)}),[v,k]),S=Ia();return Object(r.jsx)("div",{className:S.root,children:Object(r.jsxs)(H.a,{size:"small",children:[Object(r.jsx)(Ea,{order:m,orderBy:x,onRequestSort:function(e,t){var a=t;p((function(e){var t=e.orderBy===a&&"desc"===e.order?"asc":"desc";return j(Object(q.a)(Object(q.a)({},d),{},{order:t,orderBy:a})),Object(q.a)(Object(q.a)({},e),{},{order:t,orderBy:a})}))}}),Object(r.jsx)(X.a,{children:we(a,m,x).slice(f*O,f*O+O).map((function(e,a){return Object(r.jsx)(Ga,{game:t,wr:e,orderBy:x,useLiveDuration:i,history:v,onClickHistory:w},a)}))}),Object(r.jsxs)(X.a,{children:[n.totalTime>0&&Object(r.jsxs)(J.a,{children:[Object(r.jsx)(Aa,{align:"right",children:"Total Time"}),Object(r.jsx)(Aa,{children:Object(r.jsx)(K.a,{title:E.a.duration(n.totalTime,"ms").humanize(),placement:"bottom-end",enterDelay:300,children:Object(r.jsx)("span",{children:Fe(n.totalTime)})})}),Object(r.jsx)(Aa,{colSpan:5})]}),n.totalPoints>0&&Object(r.jsxs)(J.a,{children:[Object(r.jsx)(Aa,{align:"right",children:"Total Points"}),Object(r.jsx)(Aa,{children:Object(r.jsx)("span",{children:Fe(n.totalPoints,t,"Stunts")})}),Object(r.jsx)(Aa,{colSpan:3})]})]})]})})},Ja=Object(u.a)((function(e){return{padTop:{paddingTop:"70px"},formControl:{margin:e.spacing(1),minWidth:120}}})),Ka=function(e){var t=e.gameName,a=z(),n=c.a.useState(void 0),i=Object(s.a)(n,2),l=i[0],o=i[1],d=c.a.useState(void 0),j=Object(s.a)(d,2),b=j[0],u=j[1],h=c.a.useState("leaderboard"),m=Object(s.a)(h,1)[0],O=c.a.useCallback((function(e){u(e.target.value)}),[u]);c.a.useEffect((function(){o(void 0),Dt.request(t).then((function(e){var t,r=[],n=Object(me.a)(e);try{for(n.s();!(t=n.n()).done;){var c,i=t.value,l=[],s=Object(me.a)(i.tracks);try{for(s.s();!(c=s.n()).done;){var d,j=c.value,b=Object(me.a)(j.wrs);try{for(b.s();!(d=b.n()).done;){var h=d.value,m=h===j.wrs[j.wrs.length-1],O=m&&(j.history||[]).length>1?j.history:void 0;l.push(Object(q.a)({track:{id:j.id,name:j.name.replace(/(\$[0-9a-fA-F]{3}|\$[WNOITSGZBEMwnoitsgzbem]{1})/g,""),isFirst:h===j.wrs[0],isLast:m,records:j.wrs.length,history:O,type:j.type}},h))}}catch(f){b.e(f)}finally{b.f()}}}catch(f){s.e(f)}finally{s.f()}i.tracks=l,r.push(i)}}catch(f){n.e(f)}finally{n.f()}a.current&&(o(r),u(r[0].name))})).catch((function(e){console.log(e),a.current&&o(null)}))}),[a,t,u,o]);var f=Ja(),x=l?l.find((function(e){return e.name===b})):void 0;return Object(r.jsxs)(r.Fragment,{children:[b&&l&&l.length>1&&Object(r.jsxs)(Ft.a,{className:f.formControl,children:[Object(r.jsx)(_t.a,{children:"Campaign"}),Object(r.jsx)(At.a,{value:b,onChange:O,children:l.map((function(e){return Object(r.jsx)(ga.a,{value:e.name,children:e.name},e.name)}))})]}),null===x&&Object(r.jsx)(ht,{data:"No data."}),void 0===x&&Object(r.jsx)(pe.a,{}),Object(r.jsx)($.a,{container:!0,direction:"column",justify:"center",children:void 0!==x&&null!==x&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)($.a,{item:!0,xs:12,children:Object(r.jsx)(Za,{game:t,data:x.tracks,stats:x.stats})}),Object(r.jsx)($.a,{item:!0,xs:12,className:f.padTop,children:Object(r.jsxs)($.a,{container:!0,direction:"row",justify:"center",alignContent:"center",children:[Object(r.jsx)($.a,{item:!0,xs:12,md:6,children:Object(r.jsx)(Vt,{data:x[m],hasDuration:"uniqueLeaderboard"!==m})}),Object(r.jsx)($.a,{item:!0,xs:12,md:6,className:f.padTop,children:Object(r.jsx)($.a,{container:!0,direction:"column",justify:"center",children:Object(r.jsx)($.a,{item:!0,xs:12,children:"uniqueLeaderboard"===m?Object(r.jsx)(pa,{title:"WRs",labels:x[m].map((function(e){return e.user.name})).slice(0,20),series:[{name:"Unique WRs",data:x[m].slice(0,20).map((function(e){return e.wrs}))}]}):Object(r.jsx)(xt,{title:"WRs",labels:x[m].map((function(e){return e.user.name})),series:x[m].map((function(e){return e.wrs}))})})})})]})})]})})]})},$a=Object(u.a)((function(e){return{padTop:{paddingTop:"70px"},formControl:{margin:e.spacing(1),minWidth:120}}})),Va=function(e){var t=e.gameName,a=z(),n=c.a.useState(void 0),i=Object(s.a)(n,2),l=i[0],o=i[1],d=c.a.useState(void 0),j=Object(s.a)(d,2),b=j[0],u=j[1],h=c.a.useState("leaderboard"),m=Object(s.a)(h,2),O=m[0],f=m[1],x=c.a.useCallback((function(e){u(e.target.value)}),[u]),p=c.a.useCallback((function(e){f(e.target.value)}),[f]);c.a.useEffect((function(){o(void 0),Dt.request(t,"ranks").then((function(e){a.current&&(o(e),u(e[0].name))})).catch((function(e){console.error(e),a.current&&o(null)}))}),[o,a]);var g=$a(),y=l?l.find((function(e){return e.name===b})):void 0;return Object(r.jsxs)(r.Fragment,{children:[b&&l&&l.length>1&&Object(r.jsxs)(Ft.a,{className:g.formControl,children:[Object(r.jsx)(_t.a,{children:"Campaign"}),Object(r.jsx)(At.a,{value:b,onChange:x,children:l.map((function(e){return Object(r.jsx)(ga.a,{value:e.name,children:e.name},e.name)}))})]}),Object(r.jsxs)(Ft.a,{className:g.formControl,children:[Object(r.jsx)(_t.a,{children:"Rankings Type"}),Object(r.jsxs)(At.a,{value:O,onChange:p,children:[Object(r.jsx)(ga.a,{value:"leaderboard",children:"Live"}),Object(r.jsx)(ga.a,{value:"uniqueLeaderboard",children:"Unique"}),Object(r.jsx)(ga.a,{value:"historyLeaderboard",children:"Total"})]})]}),null===y&&Object(r.jsx)(ht,{data:"No data."}),void 0===y&&Object(r.jsx)(pe.a,{}),null!==y&&void 0!==y&&Object(r.jsxs)($.a,{container:!0,direction:"row",justify:"center",alignContent:"center",children:[Object(r.jsx)($.a,{item:!0,xs:12,md:6,children:Object(r.jsx)(Vt,{data:y[O],hasDuration:"uniqueLeaderboard"!==O})}),Object(r.jsx)($.a,{item:!0,xs:12,md:6,children:Object(r.jsx)($.a,{container:!0,direction:"column",justify:"center",children:Object(r.jsx)($.a,{item:!0,xs:12,className:g.padTop,children:"uniqueLeaderboard"===O?Object(r.jsx)(pa,{title:"WRs",labels:y[O].map((function(e){return e.user.name})).slice(0,20),series:[{name:"Unique WRs",data:y[O].slice(0,20).map((function(e){return e.wrs}))}]}):Object(r.jsx)(xt,{title:"WRs",labels:y[O].map((function(e){return e.user.name})),series:y[O].map((function(e){return e.wrs}))})})})})]})]})},Qa=[{id:"track.name",sortable:!1,label:"Map",align:"left"},{id:"score",sortable:!1,label:"Times",label2:"Scores",align:"left"},{id:"delta",sortable:!1,label:"Timesave",label2:"Improvement",align:"left"},{id:"user.name",sortable:!1,label:"Player",align:"left"},{id:"duration",sortable:!1,label:"Duration",align:"left"},{id:"date",sortable:!1,label:"Start",align:"left"},{id:"beatenBy.date",sortable:!1,label:"Ended",align:"left"},{id:"beatenBy.user.name",sortable:!1,label:"Beaten By",align:"left"}],er=function(e){var t=e.order,a=e.orderBy,n=e.onRequestSort,c=e.scoreType;return Object(r.jsx)(Z.a,{children:Object(r.jsx)(J.a,{children:Qa.map((function(e){return Object(r.jsxs)(G.a,{align:e.align,padding:"default",sortDirection:a===e.id&&t,children:[!0===e.sortable&&Object(r.jsx)(K.a,{title:"Sort by "+e.label,placement:"bottom-start",enterDelay:300,children:Object(r.jsx)(ve.a,{active:a===e.id,direction:t,onClick:(i=e.id,l=e.id2,function(e){n(e,i,l)}),children:"Stunts"===c&&e.label2?e.label2:e.label})}),!1===e.sortable&&e.label]},e.id);var i,l}))})})},tr=Object(u.a)((function(e){return{root:{overflowX:"auto"}}})),ar={order:"desc",orderBy:"duration",thenBy:"date",page:0,rowsPerPage:50},rr={whiteSpace:"nowrap"},nr={padding:"7px 0px 7px 16px"},cr=function(e){return Object(r.jsx)(G.a,Object(q.a)({style:nr},e))},ir=function(e){var t=e.game,a=e.data,n=e.scoreType,i=c.a.useState(Object(q.a)({},ar)),l=Object(s.a)(i,2),o=l[0],d=o.order,j=o.orderBy,b=o.thenBy,u=l[1],h=tr(),m=Te(t);return Object(r.jsx)("div",{className:h.root,children:Object(r.jsxs)(H.a,{size:"small",children:[Object(r.jsx)(er,{order:d,orderBy:j,onRequestSort:function(e,t,a){var r=t,n=a;u((function(e){return Object(q.a)(Object(q.a)({},e),{},{order:e.orderBy===r&&"desc"===e.order?"asc":"desc",orderBy:r,thenBy:n})}))},scoreType:n}),Object(r.jsx)(X.a,{children:Se(a,d,j,b).map((function(e){return Object(r.jsxs)(J.a,{tabIndex:-1,children:[Object(r.jsx)(cr,{style:rr,align:"left",children:Object(r.jsx)(k.a,{color:"inherit",href:m.trackUrl(e.track.id),rel:"noreferrer",target:"_blank",children:e.track.name})}),Object(r.jsxs)(cr,{align:"left",style:rr,children:[Fe(e.score,t,e.track.type)," \u2192"," ",Fe(e.lastScore,t,e.track.type)]}),Object(r.jsxs)(cr,{align:"left",children:["Stunts"===e.track.type?"+":"-",Fe(Math.abs(e.lastScore-e.score),t,e.track.type)]}),Object(r.jsx)(cr,{style:rr,align:"left",children:Object(r.jsx)(k.a,{color:"inherit",href:m.userUrl(e.user.id),rel:"noreferrer",target:"_blank",children:e.user.name})}),Object(r.jsx)(cr,{align:"left",children:Object(r.jsx)(K.a,{title:"in days",placement:"bottom-end",enterDelay:300,children:Object(r.jsx)("span",{children:e.duration})})}),Object(r.jsx)(cr,{align:"left",children:Object(r.jsx)(K.a,{title:Object(r.jsx)(Ee.a,{fromNow:!0,children:e.date}),placement:"bottom-end",enterDelay:300,children:Object(r.jsx)(Ee.a,{style:Object(q.a)({color:He(e.date)},rr),format:"YYYY-MM-DD",children:e.date})})}),Object(r.jsx)(cr,{align:"left",children:e.beatenBy.length>0?Object(r.jsx)(K.a,{title:Object(r.jsx)(Ee.a,{fromNow:!0,children:e.beatenBy[0].date}),placement:"bottom-end",enterDelay:300,children:Object(r.jsx)(Ee.a,{style:Object(q.a)({color:He(e.beatenBy[0].date)},rr),format:"YYYY-MM-DD",children:e.beatenBy[0].date})}):Object(r.jsx)("span",{children:"ongoing"})}),Object(r.jsx)(cr,{style:rr,align:"left",children:e.beatenBy.length>0?Object(r.jsx)(k.a,{color:"inherit",href:m.userUrl(e.beatenBy[0].user.id),rel:"noreferrer",target:"_blank",children:e.beatenBy[0].user.name}):Object(r.jsx)("span",{children:"unbeaten"})})]},e.replay)}))})]})})},lr=[{id:"track.name",sortable:!1,label:"Map",align:"left"},{id:"score",sortable:!1,label:"Time",label2:"Score",align:"left"},{id:"user.name",sortable:!1,label:"Player",align:"left"},{id:"duration",sortable:!1,label:"Duration",align:"left"},{id:"date",sortable:!1,label:"Start",align:"left"},{id:"beatenBy.date",sortable:!1,label:"Ended",align:"left"},{id:"beatenBy.user.name",sortable:!1,label:"Beaten By",align:"left"}],or=function(e){var t=e.order,a=e.orderBy,n=e.onRequestSort,c=e.scoreType;return Object(r.jsx)(Z.a,{children:Object(r.jsx)(J.a,{children:lr.map((function(e){return Object(r.jsxs)(G.a,{align:e.align,padding:"default",sortDirection:a===e.id&&t,children:[!0===e.sortable&&Object(r.jsx)(K.a,{title:"Sort by "+e.label,placement:"bottom-start",enterDelay:300,children:Object(r.jsx)(ve.a,{active:a===e.id,direction:t,onClick:(i=e.id,l=e.id2,function(e){n(e,i,l)}),children:"Stunts"===c&&e.label2?e.label2:e.label})}),!1===e.sortable&&e.label]},e.id);var i,l}))})})},sr=Object(u.a)((function(e){return{root:{overflowX:"auto"}}})),dr={order:"desc",orderBy:"duration",thenBy:"date",page:0,rowsPerPage:50},jr={whiteSpace:"nowrap"},br={padding:"7px 0px 7px 16px"},ur=function(e){return Object(r.jsx)(G.a,Object(q.a)({style:br},e))},hr=function(e){var t=e.game,a=e.data,n=e.scoreType,i=c.a.useState(Object(q.a)({},dr)),l=Object(s.a)(i,2),o=l[0],d=o.order,j=o.orderBy,b=o.thenBy,u=l[1],h=sr(),m=Te(t);return Object(r.jsx)("div",{className:h.root,children:Object(r.jsxs)(H.a,{size:"small",children:[Object(r.jsx)(or,{order:d,orderBy:j,onRequestSort:function(e,t,a){var r=t,n=a;u((function(e){return Object(q.a)(Object(q.a)({},e),{},{order:e.orderBy===r&&"desc"===e.order?"asc":"desc",orderBy:r,thenBy:n})}))},scoreType:n}),Object(r.jsx)(X.a,{children:Se(a,d,j,b).map((function(e){return Object(r.jsxs)(J.a,{tabIndex:-1,children:[Object(r.jsx)(ur,{style:jr,align:"left",children:Object(r.jsx)(k.a,{color:"inherit",href:m.trackUrl(e.track.id),rel:"noreferrer",target:"_blank",children:e.track.name})}),Object(r.jsx)(ur,{align:"left",children:Fe(e.score,t,e.track.type)}),Object(r.jsx)(ur,{style:jr,align:"left",children:Object(r.jsx)(k.a,{color:"inherit",href:m.userUrl(e.user.id),rel:"noreferrer",target:"_blank",children:e.user.name})}),Object(r.jsx)(ur,{align:"left",children:Object(r.jsx)(K.a,{title:"in days",placement:"bottom-end",enterDelay:300,children:Object(r.jsx)("span",{children:e.duration})})}),Object(r.jsx)(ur,{align:"left",children:Object(r.jsx)(K.a,{title:Object(r.jsx)(Ee.a,{fromNow:!0,children:e.date}),placement:"bottom-end",enterDelay:300,children:Object(r.jsx)(Ee.a,{style:Object(q.a)({color:He(e.date)},jr),format:"YYYY-MM-DD",children:e.date})})}),Object(r.jsx)(ur,{align:"left",children:e.beatenBy.length>0?Object(r.jsx)(K.a,{title:Object(r.jsx)(Ee.a,{fromNow:!0,children:e.beatenBy[0].date}),placement:"bottom-end",enterDelay:300,children:Object(r.jsx)(Ee.a,{style:Object(q.a)({color:He(e.beatenBy[0].date)},jr),format:"YYYY-MM-DD",children:e.beatenBy[0].date})}):Object(r.jsx)("span",{children:"ongoing"})}),Object(r.jsx)(ur,{style:jr,align:"left",children:e.beatenBy.length>0?Object(r.jsx)(k.a,{color:"inherit",href:m.userUrl(e.beatenBy[0].user.id),rel:"noreferrer",target:"_blank",children:e.beatenBy[0].user.name}):Object(r.jsx)("span",{children:"unbeaten"})})]},e.replay)}))})]})})},mr=[{id:"track.name",sortable:!1,label:"Map",align:"left"},{id:"score",sortable:!1,label:"Time",label2:"Score",align:"left"},{id:"user.name",sortable:!1,label:"Player",align:"left"},{id:"delta",sortable:!1,label:"Improvement",align:"left"},{id:"date",sortable:!1,label:"Date",align:"left"}],Or=function(e){var t=e.order,a=e.orderBy,n=e.onRequestSort,c=e.scoreType;return Object(r.jsx)(Z.a,{children:Object(r.jsx)(J.a,{children:mr.map((function(e){return Object(r.jsxs)(G.a,{align:e.align,padding:"default",sortDirection:a===e.id&&t,children:[!0===e.sortable&&Object(r.jsx)(K.a,{title:"Sort by "+e.label,placement:"bottom-start",enterDelay:300,children:Object(r.jsx)(ve.a,{active:a===e.id,direction:t,onClick:(i=e.id,l=e.id2,function(e){n(e,i,l)}),children:"Stunts"===c&&e.label2?rowl.label2:e.label})}),!1===e.sortable&&e.label]},e.id);var i,l}))})})},fr=Object(u.a)((function(e){return{root:{overflowX:"auto"}}})),xr={order:"desc",orderBy:"delta",thenBy:"date",page:0,rowsPerPage:50},pr={whiteSpace:"nowrap"},gr={padding:"7px 0px 7px 16px"},yr=function(e){return Object(r.jsx)(G.a,Object(q.a)({style:gr},e))},vr=function(e){var t=e.game,a=e.data,n=e.scoreType,i=c.a.useState(Object(q.a)({},xr)),l=Object(s.a)(i,2),o=l[0],d=o.order,j=o.orderBy,b=o.thenBy,u=l[1],h=fr(),m=Te(t);return Object(r.jsx)("div",{className:h.root,children:Object(r.jsxs)(H.a,{size:"small",children:[Object(r.jsx)(Or,{order:d,orderBy:j,onRequestSort:function(e,t,a){var r=t,n=a;u((function(e){return Object(q.a)(Object(q.a)({},e),{},{order:e.orderBy===r&&"desc"===e.order?"asc":"desc",orderBy:r,thenBy:n})}))},scoreType:n}),Object(r.jsx)(X.a,{children:Se(a,d,j,b).map((function(e){return Object(r.jsxs)(J.a,{tabIndex:-1,children:[Object(r.jsx)(yr,{style:pr,align:"left",children:Object(r.jsx)(k.a,{color:"inherit",href:m.trackUrl(e.track.id),rel:"noreferrer",target:"_blank",children:e.track.name})}),Object(r.jsx)(yr,{align:"left",children:Fe(e.score,t,e.track.type)}),Object(r.jsx)(yr,{style:pr,align:"left",children:Object(r.jsx)(k.a,{color:"inherit",href:m.userUrl(e.user.id),rel:"noreferrer",target:"_blank",children:e.user.name})}),Object(r.jsx)(yr,{align:"left",children:Object(r.jsxs)("span",{children:["Stunts"===e.track.type?"+":"-",Fe(e.delta,t,e.track.type)]})}),Object(r.jsx)(yr,{align:"left",children:Object(r.jsx)(K.a,{title:Object(r.jsx)(Ee.a,{fromNow:!0,children:e.date}),placement:"bottom-end",enterDelay:300,children:Object(r.jsx)(Ee.a,{style:Object(q.a)({color:He(e.date)},pr),format:"YYYY-MM-DD",children:e.date})})})]},e.replay)}))})]})})},kr=Object(u.a)((function(e){return{padTop:{paddingTop:"70px"},formControl:{margin:e.spacing(1),minWidth:120}}})),wr=function(e){var t=e.gameName,a=z(),n=c.a.useState(void 0),i=Object(s.a)(n,2),l=i[0],o=i[1],d=c.a.useState(void 0),j=Object(s.a)(d,2),b=j[0],u=j[1],h=c.a.useState("longestLasting"),m=Object(s.a)(h,2),O=m[0],f=m[1],x=c.a.useState("Race"),p=Object(s.a)(x,2),g=p[0],y=p[1],v=c.a.useCallback((function(e){f(e.target.value)}),[f]),k=c.a.useCallback((function(e){y(e.target.value)}),[y]),w=c.a.useCallback((function(e){u(e.target.value),y(l?l.find((function(t){return t.name===e.target.value}))[O][0].track.type:"Race")}),[l,u,y]);c.a.useEffect((function(){o(void 0),Dt.request(t,"stats").then((function(e){a.current&&(o(e),u(e[0].name),y(e[0][O][0].track.type))})).catch((function(e){console.error(e),a.current&&o(null)}))}),[o,u,y,a]);var S=function(){switch(O){case"longestDomination":return ir;case"longestLasting":return hr;case"largestImprovement":return vr;default:return null}}(),D=kr(),B=l?l.find((function(e){return e.name===b})):void 0;return Object(r.jsxs)(r.Fragment,{children:[b&&l&&l.length>1&&Object(r.jsxs)(Ft.a,{className:D.formControl,children:[Object(r.jsx)(_t.a,{children:"Campaign"}),Object(r.jsx)(At.a,{value:b,onChange:w,children:l.map((function(e){return Object(r.jsx)(ga.a,{value:e.name,children:e.name},e.name)}))})]}),Object(r.jsxs)(Ft.a,{className:D.formControl,children:[Object(r.jsx)(_t.a,{children:"Stats Type"}),Object(r.jsxs)(At.a,{value:O,onChange:v,children:[Object(r.jsx)(ga.a,{value:"longestLasting",children:"Longest Lasting"}),Object(r.jsx)(ga.a,{value:"longestDomination",children:"Longest Domination"}),Object(r.jsx)(ga.a,{value:"largestImprovement",children:"Largest Improvement"})]})]}),B&&new Set(B[O].map((function(e){return e.track.type}))).size>1&&Object(r.jsxs)(Ft.a,{className:D.formControl,children:[Object(r.jsx)(_t.a,{children:"Track Type"}),Object(r.jsxs)(At.a,{value:g,onChange:k,children:[Object(r.jsx)(ga.a,{value:"Race",children:"Race"}),Object(r.jsx)(ga.a,{value:"Stunts",children:"Stunts"})]})]}),null===B&&Object(r.jsx)(ht,{data:"No data."}),void 0===B&&Object(r.jsx)(pe.a,{}),null!==B&&void 0!==B&&Object(r.jsx)($.a,{container:!0,direction:"column",justify:"center",children:Object(r.jsx)($.a,{item:!0,xs:12,children:Object(r.jsx)($.a,{container:!0,direction:"row",justify:"center",alignContent:"center",children:Object(r.jsx)($.a,{item:!0,xs:12,children:B&&B[O]&&Object(r.jsx)(S,{game:t,data:B[O].filter((function(e){return e.track.type===g})),trackType:g})})})})})]})},Sr=Object(fe.a)((function(e){var t=e.match,a=c.a.useState(0),n=Object(s.a)(a,2),i=n[0],l=n[1],o=t.path;c.a.useEffect((function(){l(0)}),[o]);var d=t.path.slice(1);return Object(r.jsxs)(Q,{children:[Object(r.jsxs)(F.a,{children:[Object(r.jsxs)(ye.a,{value:i,onChange:function(e,t){l(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",children:[Object(r.jsx)(ge.a,{label:"Campaign"}),Object(r.jsx)(ge.a,{label:"Rankings"}),Object(r.jsx)(ge.a,{label:"Statistics"})]}),Object(r.jsx)(T.a,{component:"div",role:"tabpanel",children:Object(r.jsxs)(xe.a,{p:3,children:[0===i&&Object(r.jsx)(Ka,{gameName:d}),1===i&&Object(r.jsx)(Va,{gameName:d}),2===i&&Object(r.jsx)(wr,{gameName:d})]})})]}),Object(r.jsx)(St,{})]})})),Dr=Object(u.a)((function(e){return{views:{marginTop:e.spacing(5)}}})),Br=function(){var e=c.a.useReducer.apply(c.a,Object(o.a)(re)),t=Object(s.a)(e,2),a=t[0],n=t[1],i=c.a.useMemo((function(){return Object(f.a)({palette:{primary:{light:m.a[300],main:m.a[500],dark:m.a[700]},secondary:{light:O.a[300],main:O.a[500],dark:O.a[700]},error:{main:m.a.A400},type:a.darkMode.enabled?"dark":"light"}})}),[a.darkMode.enabled]),l=Dr(),u=c.a.useMemo((function(){return{state:a,dispatch:n}}),[a,n]);return Object(r.jsxs)(h.a,{theme:i,children:[Object(r.jsx)(b.a,{}),Object(r.jsx)(ne.Provider,{value:u,children:Object(r.jsxs)(d.a,{basename:"/trackmania-records",children:[Object(r.jsx)(Y,{}),Object(r.jsx)("div",{className:l.views,children:Object(r.jsxs)(j.d,{children:[Object(r.jsx)(j.a,{exact:!0,from:"/",to:"/trackmania"}),Object(r.jsx)(j.a,{exact:!0,from:"/tm",to:"/trackmania"}),Object(r.jsx)(j.a,{exact:!0,from:"/wii",to:"/tmwii"}),Object(r.jsx)(j.a,{exact:!0,from:"/tmo",to:"/original"}),Object(r.jsx)(j.a,{exact:!0,from:"/tmn",to:"/nations"}),Object(r.jsx)(j.a,{exact:!0,from:"/tms",to:"/sunrise"}),Object(r.jsx)(j.a,{exact:!0,from:"/tmnf",to:"/tmnforever"}),Object(r.jsx)(j.b,{exact:!0,path:"/trackmania",component:qa}),Object(r.jsx)(j.b,{exact:!0,path:"/tmnforever",component:Sr}),Object(r.jsx)(j.b,{exact:!0,path:"/united",component:Sr}),Object(r.jsx)(j.b,{exact:!0,path:"/(nations|original|sunrise|tm2|tmwii)/:date?",component:Ct}),Object(r.jsx)(j.b,{exact:!0,path:"/about",component:be}),Object(r.jsx)(j.b,{exact:!0,path:"/replay",component:Ut}),Object(r.jsx)(j.b,{component:Et})]})})]})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(Object(r.jsx)(Br,{}),document.querySelector("#root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[180,1,2]]]);
//# sourceMappingURL=main.3cc5f128.chunk.js.map